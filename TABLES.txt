CREATE TABLE Restaurant(
    restaurantId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    restaurantName VARCHAR(255) NOT NULL,
    restaurantPhone VARCHAR(255) NOT NULL
); CREATE TABLE Branch(
    branchId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    branchName VARCHAR(255) NOT NULL,
    branchAddress VARCHAR(255) NOT NULL,
    numberOfTables INT NOT NULL
); CREATE TABLE Menu(
    menuId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    branchId INT NOT NULL,
    FOREIGN KEY(branchId) REFERENCES Branch(branchId)
); CREATE TABLE MenuCategory(
    menuCategoryId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    menuId INT NOT NULL,
    menuCategoryName VARCHAR(255) NOT NULL,
    menuCategoryDescription TEXT NOT NULL,
    FOREIGN KEY(menuId) REFERENCES Menu(menuId)
); CREATE TABLE MenuItem(
	menuItemId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    menuCategoryId INT NOT NULL,
    menuItemName VARCHAR(255) NOT NULL,
    menuItemDescription TEXT NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    FOREIGN KEY(menuCategoryId) REFERENCES MenuCategory(menuCategoryId)
); CREATE TABLE `Table`(
    tableId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    branchId INT NOT NULL,
    maxCapacity INT NOT NULL,
    tableStatus ENUM('FREE', 'OCCUPIED', 'RESERVED') NOT NULL,
    FOREIGN KEY(branchId) REFERENCES Branch(branchId)
); CREATE TABLE TableSeat(
	tableSeatId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    tableId INT NOT NULL,
    FOREIGN KEY(tableId) REFERENCES `Table`(tableid)
); CREATE TABLE Users(
	userId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    dateJoined DATE NOT NULL,
    userName VARCHAR(255) NOT NULL,
    firstName VARCHAR(255) NOT NULL,
    userPassword VARCHAR(255) NOT NULL
); CREATE TABLE `Order`(
	orderId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	orderStatus enum('COMPLETED', 'PENDING', 'CANCELED') NOT NULL,
	tableId INT NOT NULL,
	userId INT NULL,
	FOREIGN KEY(tableId) REFERENCES `Table`(tableId),
	FOREIGN KEY(userId) REFERENCES Users(userId)
); CREATE TABLE Meal(
	mealId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	orderId INT NOT NULL,
	FOREIGN KEY(orderId) REFERENCES `Order`(orderId)
); CREATE TABLE MealItem(
	mealItemId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	menuItemId INT NOT NULL,
	mealId INT NOT NULL,
	quantity INT NOT NULL,
	FOREIGN KEY(menuItemId) REFERENCES MenuItem(menuItemId),
	FOREIGN KEY(mealId) REFERENCES Meal(mealId)
); CREATE TABLE Bill(
	billId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	orderId INT NOT NULL,
	billAmount DECIMAL(10,2) NOT NULL,
	billTax DECIMAL(10,2) NOT NULL,
	isPaid BIT NOT NULL,
	FOREIGN KEY(orderId) REFERENCES `Order`(orderId)
); CREATE TABLE Payment(
	paymentId INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	billId INT NOT NULL,
	totalAmount DECIMAL(10,2) NOT NULL,
	paymentDateTime DATETIME NOT NULL,
	paymentMethod VARCHAR(255) NOT NULL,
	FOREIGN KEY(billId) REFERENCES Bill(billId)
)